<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Générateur de QRcode</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section>
        <label>Entrez un texte ou un lien.</label>
        <input type="text" class="qr_texte" onchange="generateur()">
        <div class="qr_code"></div>
        <button onclick="genererPDF()">Générer PDF</button>
    </section>

    <!--code javascript-->
    <script src="qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.3/jspdf.umd.min.js"></script>
    <script type="text/javascript">
        var qr_texte = document.querySelector(".qr_texte");
        var qr_codes = []; // Liste pour stocker les valeurs des QR codes
    
        function generateur() {
            var qrcode = document.querySelector(".qr_code");
            qrcode.style.display = "flex";
            qrcode.innerHTML = "";
            new QRCode(qrcode, qr_texte.value);
            qr_codes.push(qrcode.innerHTML); // Ajoute la valeur du QR code à la liste
            qr_texte.value = "";
        }
    
        function genererPDF() {
            var doc = new jsPDF();
            var y = 10; // Position verticale initiale
    
            for (var i = 0; i < qr_codes.length; i++) {
                doc.addImage(qr_codes[i], "JPEG", 10, y, 50, 50);
                y += 60; // Incrémente la position verticale pour la prochaine image
            }
    
            doc.save("qrcodes.pdf"); // Télécharge le PDF
        }
    </script>
    
//Ce code fonctionne mais pour une seule valeur, on va essayer de faire 
//une liste de qr code pour une liste de valeur (index5) puis de génerer
//un pdf contenant cette liste de qr codes.

</body>
</html>