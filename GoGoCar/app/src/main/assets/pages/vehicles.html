<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="../css/main_theme.css" />

        <link rel="stylesheet" href="../ico/uicons-regular-rounded/css/uicons-regular-rounded.css" />
        <link rel="stylesheet" href="../ico/uicons-solid-rounded/css/uicons-solid-rounded.css" />
        <link rel="stylesheet" href="../css/style_navigation_bar.css"/>

        <link rel="stylesheet" href="../css/stylesheet_frags.css" />
        <link rel="stylesheet" href="../css/style_button.css"/>
        
    </head>
    <body>
        <section id="page-content">
            <h1>Vehicles</h1>

            <ul id="vehicles_list"></ul>

        </section>

        <nav id="navigation" class="nav">
            <a id="nav_home" href="#" class="nav__link nav__link__ripple">
                <i id="ico_home" class="nav__icon fi fi-rr-home"></i>
                <span class="nav__text">Home</span>
            </a>
            <a id="nav_drive" href="#" class="nav__link nav__link__ripple">
                <i id="ico_drive" class="nav__icon fi fi-rr-search"></i>
                <span class="nav__text">Drive</span>
            </a>
            <a id="nav_vehicles" href="#" class="nav__link nav__link__ripple nav__link--active">
                <i id="ico_vehicles" class="nav__icon fi fi-sr-car"></i>
                <span class="nav__text">Vehicles</span>
            </a>
            <a id="nav_settings" href="#" class="nav__link nav__link__ripple">
                <i id="ico_settings" class="nav__icon fi fi-rr-settings"></i>
                <span class="nav__text">Settings</span>
            </a>
        </nav>

        <script src="../js/androidInterface.js"></script>
        <script src="../js/nav.js"></script>

        <script>
            // Request database
            if (androidConnected()) Android.requestUserVehicles();

            // [ANDROID CALLBACK] Retrive databases from android (result)
            function setDatabase(_table_vehicle) {
                var vehicles = JSON.parse(_table_vehicle);
            
                vehicles.forEach((vehicle) => {
                    addElement(vehicle);
                });
            }

            // Add element to ul list
            function addElement(vehicle) {
                let vehicle_info = [vehicle.name, vehicle.address];
            
                // Create Container
                let li = document.createElement("li");
                li.classList.add("vehicle_container");
                vehicle_info.forEach((info) => {
                    let div = document.createElement("div");
                    div.appendChild(document.createTextNode(info));
                    li.appendChild(div);
                });
                const ul = document.getElementById("vehicles_list");
                ul.appendChild(li);
            }

        </script>

    </body>
</html>
